/*! angular-kana - v0.0.1 - 2014-05-13 */angular.module("atparkweb.kana",[]),angular.module("atparkweb.kana").directive("toKana",["kanaService",function(a){function b(b,c){c.on("keyup",function(d){var e,f=b.toKana,g=(d.keyCode,c.val());switch(f){case"hiragana":e=a.toHiragana;break;case"katakana":e=a.toKatakana;break;default:e=a.toHiragana}c.val(e(g))})}return{link:b,restrict:"A",scope:{toKana:"="}}}]),angular.module("atparkweb.kana").factory("bulkReplace",function(){return{replace:function(a,b,c){return 2===arguments.length&&(c=b,b=new RegExp(Object.keys(c).join(),"ig")),a.replace(b,function(a){return a in c?c[a]:a})}}}),angular.module("atparkweb.kana").factory("kanaService",["bulkReplace",function(a){var b={a:"あ",i:"い",u:"う",e:"え",o:"お",ka:"か",ki:"き",ku:"く",ke:"け",ko:"こ",sa:"さ",shi:"し",su:"す",se:"せ",so:"そ",ta:"た",chi:"ち",tsu:"つ",te:"て",to:"と",na:"な",ni:"に",nu:"ぬ",ne:"ね",no:"の",ha:"は",hi:"ひ",fu:"ふ",he:"へ",ho:"ほ",ma:"ま",mi:"み",mu:"む",me:"め",mo:"も",ya:"や",yu:"ゆ",yo:"よ",ra:"ら",ri:"り",ru:"る",re:"れ",ro:"ろ",wa:"わ",wi:"ゐ",we:"ゑ",wo:"を",nn:"ん",ga:"が",gi:"ぎ",gu:"ぐ",ge:"げ",go:"ご",za:"ざ",ji:"じ",zu:"ず",ze:"ぜ",zo:"ぞ",da:"だ",djI:"ぢ",dzU:"づ",de:"で","do":"ど",ba:"ば",bi:"び",bu:"ぶ",be:"べ",bo:"ぼ",pa:"ぱ",pi:"ぴ",pu:"ぷ",pe:"ぺ",po:"ぽ"},c={kya:"きゃ",kyu:"きゅ",kyo:"きょ",sha:"しゃ",shu:"しゅ",sho:"しょ",cha:"ちゃ",chu:"ちゅ",cho:"ちょ",nya:"にゃ",nyu:"にゅ",nyo:"にょ",hya:"ひゃ",hyu:"ひゅ",hyo:"ひょ",mya:"みゃ",myu:"みゅ",myo:"みょ",rya:"りゃ",ryu:"りゅ",ryo:"りょ",gya:"ぎゃ",gyu:"ぎゅ",gyo:"ぎょ",ja:"じゃ",ju:"じゅ",jo:"じょ",bya:"びゃ",byu:"びゅ",byo:"びょ",pya:"ぴゃ",pyu:"ぴゅ",pyo:"ぴょ"},d={a:"ア",i:"イ",u:"ウ",e:"エ",o:"オ",ka:"カ",ki:"キ",ku:"ク",ke:"ケ",ko:"コ",sa:"サ",shi:"シ",su:"ス",se:"セ",so:"ソ",ta:"タ",chi:"チ",tsu:"ツ",te:"テ",to:"ト",na:"ナ",ni:"ニ",nu:"ヌ",ne:"ネ",no:"ノ",ha:"ハ",hi:"ヒ",fu:"フ",he:"ヘ",ho:"ホ",ma:"マ",mi:"ミ",mu:"ム",me:"メ",mo:"モ",ya:"ヤ",yo:"ヨ",yu:"ユ",ra:"ラ",ri:"リ",ru:"ル",re:"レ",ro:"ロ",wa:"ワ",wi:"ヰ",we:"ヱ",wo:"ヲ",nn:"ン",ga:"ガ",gi:"ギ",gu:"ぐ",ge:"ゲ",go:"ゴ",za:"ザ",ji:"ジ",zu:"ズ",ze:"ゼ",zo:"ゾ",da:"ダ",dji:"ヂ",dzu:"ヅ",de:"デ","do":"ド",ba:"バ",bi:"ビ",bu:"ブ",be:"ベ",bo:"ボ",pa:"パ",pi:"ピ",pu:"プ",pe:"ペ",po:"ポ"},e={kyo:"キョ",kyu:"キュ",kya:"キャ",sho:"ショ",shu:"シュ",sha:"シャ",cho:"チョ",chu:"チュ",cha:"チャ",nyo:"ニョ",nyu:"ニュ",nya:"ニャ",hyo:"ヒョ",hyu:"ヒュ",hya:"ヒャ",myo:"ミョ",myu:"ミュ",mya:"ミャ",ryo:"リョ",ryu:"リュ",rya:"リャ",gyo:"ギョ",gyu:"ギュ",gya:"ギャ",jo:"ジョ",ju:"ジュ",ja:"ジャ",byo:"ビョ",byu:"ビュ",bya:"ビャ",pyo:"ピョ",pyu:"ピュ",pya:"ピャ"},f={};Object.keys(b).forEach(function(a){var c=b[a];a in f||(f[a]=c)}),Object.keys(c).forEach(function(a){var b=c[a];a in f||(f[a]=b)});var g=new RegExp(Object.keys(f).sort(function(a,b){return b.length-a.length}).join("|"),"g"),h={};Object.keys(d).forEach(function(a){var b=d[a];a in h||(h[a]=b)}),Object.keys(e).forEach(function(a){var b=e[a];a in h||(h[a]=b)});var i=new RegExp(Object.keys(h).sort(function(a,b){return b.length-a.length}).join("|"),"g");return{toHiragana:function(b){return b=b.toLowerCase(),b=b.replace(/([^aeioun])\1/g,"っ$1"),b=b.replace(/nn/g,"ん"),b=b.replace(/n([^aeioun])/g,"ん$1"),b=a.replace(b,g,f)},toKatakana:function(b){return b=b.toLowerCase(),b=b.replace(/([^aeioun])\1/g,"ッ$1"),b=b.replace(/nn/g,"ン"),b=b.replace(/n([^aeioun])/g,"ン$1"),b=b.replace(/-/g,"ー"),b=a.replace(b,i,h)}}}]);